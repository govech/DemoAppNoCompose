# 🎨 颜色规范文档

## 📋 概述

本文档定义了DemoAppNoCompose项目中主题配色系统的颜色规范，包括颜色命名规则、使用原则、对比度要求等。遵循Material Design 3规范，确保应用在不同主题下的一致性和可访问性。

## 🏷️ 颜色命名规范

### 命名规则

颜色命名采用以下格式：`{主题名}_{颜色类型}_{变体}`

#### 主题名
- `default`: 默认主题
- `business`: 商务主题  
- `vibrant`: 活力主题

#### 颜色类型
- `primary`: 主色
- `secondary`: 次色
- `background`: 背景色
- `surface`: 表面色

#### 变体
- `_variant`: 变体色
- `_on`: 在某种颜色上的内容色

### 命名示例

```xml
<!-- 主色系 -->
<color name="default_primary">#2196F3</color>
<color name="default_primary_variant">#1976D2</color>
<color name="default_on_primary">#FFFFFF</color>

<!-- 次色系 -->
<color name="default_secondary">#03DAC6</color>
<color name="default_secondary_variant">#018786</color>
<color name="default_on_secondary">#000000</color>

<!-- 背景色系 -->
<color name="default_background">#FAFAFA</color>
<color name="default_surface">#FFFFFF</color>
<color name="default_on_background">#1C1B1F</color>
<color name="default_on_surface">#1C1B1F</color>
```

## 🎯 颜色层级体系

### 1. 主色系 (Primary Colors)

主色是应用的核心颜色，用于重要元素如按钮、链接、选中状态等。

#### 日间模式
| 颜色名称 | 颜色值 | 用途 |
|---------|--------|------|
| `{theme}_primary` | 主色 | 主要按钮、重要链接、选中状态 |
| `{theme}_primary_variant` | 主色变体 | 按钮按压状态、强调元素 |
| `{theme}_on_primary` | 主色上的内容色 | 主色背景上的文字、图标 |

#### 夜间模式
| 颜色名称 | 颜色值 | 用途 |
|---------|--------|------|
| `{theme}_primary` | 浅色主色 | 主要按钮、重要链接、选中状态 |
| `{theme}_primary_variant` | 浅色主色变体 | 按钮按压状态、强调元素 |
| `{theme}_on_primary` | 深色内容色 | 主色背景上的文字、图标 |

### 2. 次色系 (Secondary Colors)

次色用于辅助元素，如次要按钮、图标、装饰元素等。

#### 日间模式
| 颜色名称 | 颜色值 | 用途 |
|---------|--------|------|
| `{theme}_secondary` | 次色 | 次要按钮、图标、装饰元素 |
| `{theme}_secondary_variant` | 次色变体 | 次色按钮按压状态 |
| `{theme}_on_secondary` | 次色上的内容色 | 次色背景上的文字、图标 |

#### 夜间模式
| 颜色名称 | 颜色值 | 用途 |
|---------|--------|------|
| `{theme}_secondary` | 浅色次色 | 次要按钮、图标、装饰元素 |
| `{theme}_secondary_variant` | 浅色次色变体 | 次色按钮按压状态 |
| `{theme}_on_secondary` | 深色内容色 | 次色背景上的文字、图标 |

### 3. 背景色系 (Background Colors)

背景色用于页面和组件的背景。

#### 日间模式
| 颜色名称 | 颜色值 | 用途 |
|---------|--------|------|
| `{theme}_background` | 页面背景色 | 应用主背景 |
| `{theme}_surface` | 表面色 | 卡片、对话框、输入框背景 |
| `{theme}_on_background` | 背景上的内容色 | 背景上的主要文字 |
| `{theme}_on_surface` | 表面上的内容色 | 表面上的主要文字 |

#### 夜间模式
| 颜色名称 | 颜色值 | 用途 |
|---------|--------|------|
| `{theme}_background` | 深色背景 | 应用主背景 |
| `{theme}_surface` | 深色表面 | 卡片、对话框、输入框背景 |
| `{theme}_on_background` | 浅色内容色 | 背景上的主要文字 |
| `{theme}_on_surface` | 浅色内容色 | 表面上的主要文字 |

### 4. 功能色系 (Functional Colors)

功能色用于表示特定状态或操作结果。

| 颜色名称 | 日间模式 | 夜间模式 | 用途 |
|---------|---------|---------|------|
| `color_error` | #F44336 | #F44336 | 错误状态、删除操作 |
| `color_success` | #4CAF50 | #4CAF50 | 成功状态、确认操作 |
| `color_warning` | #FF9800 | #FF9800 | 警告状态、注意事项 |
| `color_info` | #2196F3 | #2196F3 | 信息提示、帮助内容 |

### 5. 文本色系 (Text Colors)

文本色用于不同层级的文字内容。

| 颜色名称 | 日间模式 | 夜间模式 | 用途 |
|---------|---------|---------|------|
| `text_primary` | #1C1B1F | #E6E1E5 | 主要文字、标题 |
| `text_secondary` | #49454F | #CAC4D0 | 次要文字、描述 |
| `text_tertiary` | #79747E | #938F99 | 第三级文字、提示 |
| `text_disabled` | #CAC4D0 | #49454F | 禁用文字、占位符 |

### 6. 其他色系 (Other Colors)

| 颜色名称 | 日间模式 | 夜间模式 | 用途 |
|---------|---------|---------|------|
| `color_divider` | #E1E0E1 | #49454F | 分割线、边框 |
| `color_border` | #CAC4D0 | #938F99 | 输入框边框、卡片边框 |

## 🎨 主题配色方案

### 1. Default主题（默认主题）

#### 设计理念
简洁现代，适合日常使用，用户群体广泛。

#### 颜色配置
```xml
<!-- 日间模式 -->
<color name="default_primary">#2196F3</color>
<color name="default_primary_variant">#1976D2</color>
<color name="default_secondary">#03DAC6</color>
<color name="default_secondary_variant">#018786</color>
<color name="default_background">#FAFAFA</color>
<color name="default_surface">#FFFFFF</color>

<!-- 夜间模式 -->
<color name="default_primary">#90CAF9</color>
<color name="default_primary_variant">#64B5F6</color>
<color name="default_secondary">#03DAC6</color>
<color name="default_secondary_variant">#03DAC6</color>
<color name="default_background">#121212</color>
<color name="default_surface">#1E1E1E</color>
```

### 2. Business主题（商务主题）

#### 设计理念
专业商务，适合办公场景，体现稳重可靠。

#### 颜色配置
```xml
<!-- 日间模式 -->
<color name="business_primary">#1976D2</color>
<color name="business_primary_variant">#1565C0</color>
<color name="business_secondary">#424242</color>
<color name="business_secondary_variant">#212121</color>
<color name="business_background">#F5F5F5</color>
<color name="business_surface">#FFFFFF</color>

<!-- 夜间模式 -->
<color name="business_primary">#90CAF9</color>
<color name="business_primary_variant">#64B5F6</color>
<color name="business_secondary">#9E9E9E</color>
<color name="business_secondary_variant">#757575</color>
<color name="business_background">#121212</color>
<color name="business_surface">#1E1E1E</color>
```

### 3. Vibrant主题（活力主题）

#### 设计理念
活泼时尚，适合年轻用户，体现创新活力。

#### 颜色配置
```xml
<!-- 日间模式 -->
<color name="vibrant_primary">#9C27B0</color>
<color name="vibrant_primary_variant">#7B1FA2</color>
<color name="vibrant_secondary">#FF4081</color>
<color name="vibrant_secondary_variant">#F50057</color>
<color name="vibrant_background">#FFF8E1</color>
<color name="vibrant_surface">#FFFFFF</color>

<!-- 夜间模式 -->
<color name="vibrant_primary">#CE93D8</color>
<color name="vibrant_primary_variant">#BA68C8</color>
<color name="vibrant_secondary">#F8BBD9</color>
<color name="vibrant_secondary_variant">#F48FB1</color>
<color name="vibrant_background">#121212</color>
<color name="vibrant_surface">#1E1E1E</color>
```

## 📏 对比度要求

### WCAG 2.1 标准

所有颜色组合必须满足WCAG 2.1 AA级标准：

#### 正常文字
- **对比度**: 至少4.5:1
- **适用场景**: 普通文字内容

#### 大文字
- **对比度**: 至少3:1
- **适用场景**: 18pt以上的大文字

#### 非文字元素
- **对比度**: 至少3:1
- **适用场景**: 图标、按钮、输入框边框等

### 对比度检查工具

推荐使用以下工具检查颜色对比度：
- [WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/)
- [Material Design Color Tool](https://material.io/resources/color/)
- [Contrast Ratio](https://contrast-ratio.com/)

## 🎯 使用原则

### 1. 一致性原则
- 相同功能的元素使用相同的颜色
- 保持颜色层级的一致性
- 避免随意使用颜色

### 2. 可访问性原则
- 确保足够的颜色对比度
- 不依赖颜色传达重要信息
- 支持色盲用户的使用

### 3. 语义化原则
- 使用语义化的颜色名称
- 颜色应该反映其用途
- 避免使用过于具体的颜色名称

### 4. 主题适配原则
- 所有颜色都应该有日间和夜间版本
- 保持主题间的视觉一致性
- 考虑不同主题的视觉层次

## 🛠️ 实现指南

### 1. 在XML中使用主题颜色

```xml
<!-- 使用主题属性 -->
<TextView
    android:textColor="?attr/textColorPrimary"
    android:background="?attr/colorSurface" />

<!-- 使用具体颜色 -->
<TextView
    android:textColor="@color/default_primary"
    android:background="@color/default_surface" />
```

### 2. 在代码中使用主题颜色

```kotlin
// 使用扩展函数
val primaryColor = context.getPrimaryColor()
val textColor = context.getTextPrimaryColor()

// 使用ThemeManager
val primaryColor = themeManager.getThemeColor(context, R.attr.colorPrimary)
```

### 3. 创建自定义颜色

```xml
<!-- 在colors.xml中定义 -->
<color name="custom_accent">#FF5722</color>

<!-- 在attrs.xml中定义属性 -->
<attr name="customAccentColor" format="color" />

<!-- 在themes.xml中赋值 -->
<item name="customAccentColor">@color/custom_accent</item>
```

## 📋 检查清单

### 设计阶段
- [ ] 确定主题配色方案
- [ ] 检查颜色对比度
- [ ] 验证色盲友好性
- [ ] 考虑文化差异

### 开发阶段
- [ ] 使用主题属性而非硬编码颜色
- [ ] 为所有颜色提供日间和夜间版本
- [ ] 实现颜色扩展函数
- [ ] 添加颜色使用文档

### 测试阶段
- [ ] 在不同主题下测试UI
- [ ] 验证暗黑模式效果
- [ ] 检查可访问性
- [ ] 测试颜色对比度

## 🔄 维护指南

### 添加新主题
1. 在`colors.xml`中定义新主题的所有颜色
2. 在`themes.xml`中创建新主题样式
3. 在`AppTheme`枚举中添加新主题
4. 更新主题设置页面

### 修改现有颜色
1. 更新`colors.xml`中的颜色值
2. 检查对比度是否仍然符合标准
3. 测试所有使用该颜色的地方
4. 更新相关文档

### 删除颜色
1. 确认没有地方使用该颜色
2. 从`colors.xml`中删除
3. 从`attrs.xml`中删除相关属性
4. 更新相关文档

---

*本文档最后更新时间: 2024年10月*
